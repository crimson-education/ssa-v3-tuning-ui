<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced College Admission Predictor</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.26.0/plotly.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="title">Crimson SSA V3 Tuning UI</div>
        
        <div class="controls-panel">
            <h3 style="margin-top: 0; text-align: center; color: #2c3e50;">Parameter Controls</h3>
            <div class="parameter-display" id="current-params">
                Current Parameters Loading...
            </div>
        </div>

        <div class="plot-container">
            <div class="navigation-hint">🔍 Drag to pan • Scroll to zoom • Double-click to reset</div>
            <div id="plotDiv"></div>
        </div>

        <div class="info-panel">
            <div class="info-section">
                <h3>🎯 Parameter Guide</h3>
                <ul>
                    <li><strong>Difficulty:</strong> Admission curve hardness from 0 (easiest) to 7 (hardest)</li>
                    <li><strong>Intended Major Competitiveness:</strong> Adjusts probability for competitive majors</li>
                    <li><strong>Financial Aid Impact:</strong> Applies simplified aid adjustment factors</li>
                    <li><strong>Domestic/International:</strong> Toggles applicant type</li>
                </ul>
            </div>

            <div class="info-section">
                <h3>📘 Intended Major Competitiveness</h3>
                <ul>
                    <li><strong>0:</strong> No penalty; probability unaffected</li>
                    <li><strong>1:</strong> Moderate competition; 20% probability reduction</li>
                    <li><strong>2:</strong> Highly competitive majors (CS, Pre-med, etc.); 40% reduction</li>
                </ul>
            </div>

            <div class="info-section">
                <h3>💰 Financial Aid Effect</h3>
                <ul>
                    <li><strong>Toggle On:</strong> Applies need-based admission adjustments across all universities</li>
                    <li><strong>Domestic vs International:</strong> Different multipliers based on policy</li>
                    <li><strong>Demonstration Note:</strong> This assumes perfect visibility of aid need, but in practice universities vary</li>
                </ul>
            </div>

            <div class="info-section">
                <h3>📊 Student Profiles</h3>
                <ul>
                    <li><strong>Solid lines:</strong> Balanced students (A=E)</li>
                    <li><strong>Dashed lines:</strong> Academic-heavy (A>E)</li>
                    <li><strong>Dotted lines:</strong> Extracurricular-heavy (E>A)</li>
                    <li><strong>Dots:</strong> 50% probability points</li>
                </ul>
            </div>

            <div class="info-section">
                <h3>🏫 University Tiers</h3>
                <ul>
                    <li>Rank 1: Harvard/Stanford</li>
                    <li>Rank 5: Columbia/UChicago</li>
                    <li>Rank 10: Northwestern/Duke</li>
                    <li>Rank 15: Vanderbilt/Rice</li>
                    <li>Rank 20: Emory/Georgetown</li>
                    <li>Rank 30: NYU/Boston College</li>
                    <li>Rank 40: Case Western/Tulane</li>
                    <li>Rank 50: Miami/BU</li>
                </ul>
            </div>

            <div class="info-section">
                <h3>🚀 Navigation</h3>
                <ul>
                    <li><strong>Drag:</strong> Pan around the plot</li>
                    <li><strong>Scroll:</strong> Zoom in/out</li>
                    <li><strong>Double-click:</strong> Reset view</li>
                    <li><strong>Select:</strong> Box zoom mode</li>
                </ul>
            </div>
        </div>

        <div class="full-info-sections">
            <div class="info-section">
                <h3>📚 Academic Score Interpretation</h3>
                <div style="overflow-x:auto;">
                    <table class="framework-table">
                        <thead>
                            <tr>
                                <th>Score</th>
                                <th>Tests</th>
                                <th>GPA</th>
                                <th>Rigor</th>
                                <th>Class Rank</th>
                                <th>Interpretation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>6.0</td><td>SAT ≥ 1550<br>ACT 35–36</td><td>≥ 3.95 / 95%</td><td>IB ≥ 42<br>12+ AP<br>≥ 4 A* A-levels</td><td>Top 1–2%</td><td>Truly exceptional; max performance</td></tr>
                            <tr><td>5.5 – 5.9</td><td>SAT 1520–1540<br>ACT 34–35</td><td>3.9–4.0 / 92–95%</td><td>IB 40–41<br>9–11 AP<br>3 A* A-levels</td><td>Top 3–5%</td><td>Outstanding; near-perfect with strong rigor</td></tr>
                            <tr><td>5.0 – 5.4</td><td>SAT 1450–1510<br>ACT 32–33</td><td>3.7–3.9 / 90–92%</td><td>IB 38–39<br>6–8 AP<br>AAA A-levels</td><td>Top 6–10%</td><td>Strong academics; competitive and solid rigor</td></tr>
                            <tr><td>4.0 – 4.9</td><td>SAT 1350–1440<br>ACT 29–31</td><td>3.3–3.6 / 87–90%</td><td>IB 35–37<br>4–5 AP<br>AAB A-levels</td><td>Top 11–15%</td><td>Above-average; consistent achievement</td></tr>
                            <tr><td>3.0 – 3.9</td><td>SAT 1200–1340<br>ACT 25–28</td><td>3.0–3.2 / 83–86%</td><td>IB 32–34<br>2–3 AP<br>ABB A-levels</td><td>Top 16–25%</td><td>Average; weaker rigor/test profile</td></tr>
                            <tr><td>2.0 – 2.9</td><td>SAT 1050–1190<br>ACT 21–24</td><td>2.5–2.9 / 75–82%</td><td>IB < 32<br>1 AP<br>≤ ABB A-levels</td><td>> 25%</td><td>Below average; limited rigor</td></tr>
                            <tr><td>1.0 – 1.9</td><td>SAT < 1050<br>ACT < 21</td><td>< 2.5 / ≤ 74%</td><td>No rigor</td><td>Bottom quartile</td><td>Weak or missing academic data</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="info-section">
                <h3>🌟 Extracurricular Score Interpretation</h3>
                <div style="overflow-x:auto;">
                    <table class="framework-table">
                        <thead>
                            <tr>
                                <th>Score</th>
                                <th>Activities & Leadership</th>
                                <th>Honors & Recognition</th>
                                <th>Interpretation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>6.0</td><td>Founded orgs with global impact; breakthrough research; intl athletics</td><td>IMO/IOI/ISEF wins, national awards, major scholarships</td><td>World-class; transformative leadership</td></tr>
                            <tr><td>5.0 – 5.9</td><td>First-author pubs or original leadership; selective internships; elite athletics</td><td>Publications, state/regional wins, selective scholarships</td><td>Outstanding; national-level competitiveness</td></tr>
                            <tr><td>4.0 – 4.9</td><td>Multiple co-authored pubs; regional competitions; internships</td><td>Regional honors, athletic recognition</td><td>Very strong; sustained, visible involvement</td></tr>
                            <tr><td>3.0 – 3.9</td><td>School-level leadership; consistent engagement; community involvement</td><td>Local awards, honor societies</td><td>Solid; breadth and commitment at school/local level</td></tr>
                            <tr><td>2.0 – 2.9</td><td>Some leadership; part-time work; modest involvement</td><td>Honor roll, participation awards</td><td>Below average; limited scope</td></tr>
                            <tr><td>1.0 – 1.9</td><td>Minimal participation; no leadership</td><td>Few or no honors</td><td>Weak profile; low commitment</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="button-panel">
            <button class="control-button export" onclick="exportParameters()">📤 Export Parameters</button>
            <button class="control-button load" onclick="document.getElementById('load-file').click()">📥 Load Parameters</button>
            <button class="control-button" onclick="resetToDefaults()" style="background: linear-gradient(45deg, #6c757d, #495057);">🔄 Reset Defaults</button>
        </div>
    </div>

    <input type="file" id="load-file" class="hidden-file-input" accept=".json" onchange="loadParameters(event)">

    <script src="script.js"></script>
</body>
</html>
